<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IDOR Clinic</title>

  <!-- Security Headers -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self';">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
  <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">

  <link rel="stylesheet" href="./style.css" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'><text y='14' font-size='16'>🔒</text></svg>">
  <meta name="description" content="Interactive, client-side simulator to learn IDOR (Insecure Direct Object Reference). Practice URL/Path/Body/Header tampering and compare VULN vs SECURE. No data stored or sent.">
</head>
<body>
  <header class="container app-header">
    <div class="header-left">
      <h1 class="title">IDOR Clinic</h1>
      <p class="subtitle">Webアプリの権限昇格脆弱性（IDOR）を安全に体験・学習できるシミュレータ</p>
    </div>
    <div class="header-actions">
      <div id="modeIndicator"></div>
      <label class="mode-select">Mode:
        <select id="mode">
          <option>VULN</option>
          <option>SECURE</option>
        </select>
      </label>
      <div id="loginBox"></div>
      <button id="themeToggle" class="theme-toggle-header" title="テーマ切り替え">☀️</button>
    </div>
  </header>

  <nav class="container nav">
    <a href="#/">Home</a>
    <a href="#/app">App</a>
    <a href="#/compare">Compare</a>
    <a href="#/learn">Learn</a>
  </nav>

  <main class="container" id="app">
    <!-- ルータがここに描画 -->
  </main>

  <section id="toast" class="toast" role="status" aria-live="polite"></section>

  <footer>
    <div class="footer">
      🔗 GitHubリポジトリはこちら（
      <a href="https://github.com/ipusiron/idor-clinic" target="_blank" rel="noopener noreferrer">ipusiron/idor-clinic</a>
      ）
    </div>
  </footer>

  <script src="./js/utils.js"></script>
  <script src="./js/data.js"></script>
  <script src="./js/auth.js"></script>
  <script src="./js/api.js"></script>
  <script src="./js/ui.js"></script>
  <script src="./js/main.js"></script>
</body>
</html>
